### 页面: 监控任务管理

**页面名称:** 监控任务管理
**功能概要:** 管理 Kafka Topic 监控任务的生命周期，包括创建、查看、编辑、删除、启停、下发、审批状态流转及操作审计。
**页面入口:** `/monitoring/tasks` (示例路径，可在导航菜单中配置)
**页面布局:**
    1.  **查询筛选区:** 位于页面顶部，用于按条件筛选任务列表。
    2.  **批量操作按钮区:** 位于查询区下方，包含"新建任务"及批量操作按钮。
    3.  **任务列表区:** 占据页面主要区域，展示符合条件的任务信息及操作项。
**各功能区详细描述:**
    **查询筛选区 (Form):**
        **字段列表:**
            `任务名称`: 输入框, 文本类型, 非必填, 支持模糊查询。
            `Topic名称`: 输入框, 文本类型, 非必填, 支持模糊查询。
            `Kafka集群`: 下拉框, 选项来源于已配置的 Kafka 集群列表, 非必填。
            `任务状态`: 下拉框, 选项包括: 草稿, 待审批, 运行中, 已停止, 异常, 已驳回, 全部 (默认), 非必填。
            `创建人`: 输入框/选择器, 文本类型, 非必填。
            `创建时间`: 日期范围选择器, 非必填。
        **按钮:** `查询`, `重置`。
    **批量操作按钮区 (Button):**
        **按钮名称:** `+ 新建任务`
            **触发条件:** 始终显示（需有创建权限）。
            **交互行为:** 点击后打开"新建任务"弹窗。
            **主要作用:** 创建新的 Kafka Topic 监控任务。
        **按钮名称:** `批量启动`, `批量停止`, `批量删除`
            **触发条件:** 列表有选中项且选中项状态符合操作要求时可用（需相应权限）。
            **交互行为:** 点击后弹出确认框，提示将对选中的 N 个任务执行操作，确认后批量执行。
            **主要作用:** 提高多任务管理效率。
    **任务列表区 (List):**
        **表头字段:** `复选框`, `任务ID`, `任务名称`, `Kafka集群`, `Topic名称`, `监控指标` (可悬浮显示详情), `任务状态`, `创建人`, `创建时间`, `最后更新时间`, `操作`。
        **查询功能:** 由顶部的查询筛选区控制。
        **分页:** 默认每页显示 10 或 20 条，支持切换每页条数，默认按"创建时间"降序排序。
        **操作项 (行级别):**
            `编辑`: (状态为草稿、已停止、已驳回时可用) 打开编辑弹窗，预填当前任务信息。
            `删除`: (状态为草稿、已停止、已驳回时可用) 弹出确认框，确认后删除任务。
            `查看详情`: (所有状态可用) 打开详情弹窗，展示任务所有配置信息（只读）。
            `启动`: (状态为已停止时可用) 弹出确认框，确认后启动任务，状态变为运行中。
            `停止`: (状态为运行中时可用) 弹出确认框，确认后停止任务，状态变为已停止。
            `下发`: (根据具体业务逻辑，可能在创建/编辑后或启动前需要) 弹出确认框，确认后将任务配置下发至执行引擎。
            `提交审批`: (状态为草稿、已驳回时可用) 弹出确认框，确认后提交任务进入审批流程，状态变为待审批。
            `批准`: (状态为待审批时可用，需审批权限) 弹出确认框（或审批意见弹窗），确认后任务状态变为"已停止"。
            `驳回`: (状态为待审批时可用，需审批权限) 弹出驳回理由填写弹窗，确认后任务状态变为"已驳回"。
            `查看审批记录`: (状态涉及审批流转时可用) 打开弹窗显示审批历史。
            `查看结果`: (状态为运行中、已停止、异常时可用) 跳转到"监控结果与告警"页面，并自动筛选当前任务。
            `查看操作日志`: (所有状态可用) 打开弹窗显示该任务相关的操作历史记录。
    **新建/编辑任务 (Modal - Form):**
        **字段列表:**
            `任务名称`: 输入框, 文本类型, 必填, 需校验唯一性或长度限制。
            `Kafka集群`: 下拉框, 选项来源于已配置的 Kafka 集群列表, 必填。
            `Topic名称`: 输入框/选择器 (可根据所选集群动态加载 Topic 列表), 文本类型, 必填。
            `监控指标`: 多选框/穿梭框, 选项包括 Lag, TPS, Message Size 等常用指标, 必填, 至少选一项。
            `采样频率`: 输入框/下拉框 (如 1分钟, 5分钟), 数字/时间单位, 必填, 需校验格式。
            `预警规则`: (可配置多个, 可扩展支持更复杂规则如组合条件、环比等)
                `指标`: 下拉框 (关联已选监控指标)。
                `条件`: 下拉框 (>, <, >=, <=, ==)。
                `阈值`: 输入框, 数字类型。
                `持续时间`: 输入框/下拉框 (如 连续3次, 5分钟内)。
                `告警级别`: 下拉框 (严重, 警告, 提醒)。
                `通知方式`: (可选) 复选框 (邮件, 短信, Webhook等)。
            `描述`: 文本域, 文本类型, 非必填, 限制长度。
        **按钮:** `保存`, `取消`, `保存并提交审批` (新建时)。
    **查看详情 (Modal):**
        以只读形式展示"新建/编辑任务"表单中的所有字段信息。
        **按钮:** `关闭`。
    **操作日志查看 (Modal):**
        **内容:** 以列表形式展示操作时间、操作人、操作类型（创建、编辑、启动、停止、审批等）、操作详情/备注。
        **按钮:** `关闭`。