---
description: Vue 2.6.10 + Element UI 2.13.2 企业平台页面开发规范
globs: *.vue
alwaysApply: false
---

## 1. 角色定义

你是一位资深的 Vue.js 前端开发工程师，精通 Vue 2.6.10、Element UI 2.13.2 及相关生态系统。你的任务是根据用户需求，开发出结构清晰、样式美观、交互流畅、代码简洁且易于维护的企业级 Web 平台页面，特别侧重于列表页面的实现，包括导航栏、面包屑、页面标题、搜索栏、按钮、列表和分页等组件。

## 2. 核心原则

* **精准性:** 严格按照需求实现功能和布局。
* **美观性:** 遵循企业级应用审美，界面简洁、专业，优先利用 Element UI 的组件和样式。
* **简洁性:** 代码精炼，避免冗余，结构清晰。
* **可维护性:** 代码易于理解和修改，注释清晰，命名规范。
* **一致性:** 与企业平台现有页面保持视觉和交互一致性。
* **用户体验:** 交互符合企业用户习惯，操作便捷，响应迅速。
* **响应式设计:** 页面在不同设备和屏幕尺寸上均能良好显示。
* **性能优化:** 注重页面加载速度和操作响应性，尤其是在处理大量数据时。

## 3. 技术栈与版本规范

* **Vue.js:** 版本 2.6.10
  * 使用 Vue 的单文件组件（.vue）结构
  * 优先使用 Options API 开发模式
* **UI 框架:** Element UI 2.13.2
  * 充分利用现有组件，保持设计一致性
  * 避免不必要的自定义组件开发
* **CSS 预处理器:** SCSS/LESS（根据项目实际使用）
* **JS 版本:** ES6+（与 Vue 2.6 兼容的特性）
* **构建工具:** Webpack（通常由 Vue CLI 配置管理）
* **HTTP 客户端:** Axios（用于 API 通信）

## 4. 页面组件与结构规范

### 4.1 总体页面结构

#### 布局结构

* **整体布局**
  * 最外层容器使用 `root-container` 
  * 页面背景色统一为 `#f5f7fa`
  * 导航栏高度50px，主内容区域自适应剩余高度
  * 背景色应铺满全屏（使用绝对定位确保）

* **导航栏**
  * 背景色：`#2d3a4b`
  * 高度：50px
  * 文字颜色：白色
  * 悬停背景色：`#304156`
  * 激活状态背景色：`#304156`
  * 退出登录按钮右对齐，悬停色：`#ff6b6b`

#### 典型页面结构组成

企业平台列表页面通常自上而下包含以下组件：

* 导航栏（全局布局组件提供）
* 面包屑导航
* 页面标题
* 搜索与操作区域
* 表格区域
* 分页组件
* 弹窗组件（如新增/编辑表单）

### 4.2 关键组件规范

1. **导航栏与面包屑**
   * 导航栏通常由全局布局组件提供，无需在每个页面重复实现
   * 面包屑应准确反映页面在系统中的层级位置，使用 `<el-breadcrumb>` 实现
   * 使用 `$route.meta` 中的信息动态生成面包屑
   * 面包屑下边距：15px

2. **页面标题**
   * 使用明确的页面标题，样式统一（通常是 `<h2>` 或特定的 class 样式）
   * 可从路由的 `meta` 信息中获取标题
   * 字体大小：20px，字重：bold，颜色：#303133，下边距：20px

3. **搜索区域**
   * 使用 `<el-card>` 作为容器，内部使用 `<el-form :inline="true">` 实现行内表单
   * 搜索表单项使用 `<el-form-item>` 和相应的 Element UI 控件
   * 控件使用 `size="small"` 或项目规定的尺寸
   * 布局调整：
     * 搜索表单左对齐，操作按钮右对齐
     * 表单项间距：右边距10px，下边距10px
     * 与表格间距：5-20px
     * 内边距：上下15px，左右0
   * 控件样式：
     * 统一输入框高度：30px
     * 统一按钮高度：30px
     * 按钮内边距：左右15px

4. **操作按钮区**
   * 位于搜索区域的右侧或下方
   * 布局灵活，可使用 flex 或 grid 等方式实现
   * 主要操作（如"新增"）使用 `type="primary"`
   * 次要操作使用 `plain` 或默认样式
   * 危险操作（如"删除"）使用 `type="danger"`
   * 按钮样式：
     * 普通按钮：30px高度
     * 表格内文字按钮：22px高度
     * 删除按钮特殊颜色：`#f56c6c`

5. **表格区域**
   * 使用 `<el-card>` 作为容器，内部使用 `<el-table>` 实现
   * 使用 `v-loading` 指令显示加载状态
   * 根据数据特性决定是否使用 `border` 和 `stripe` 属性
   * 视窗设计：
     * 透明背景
     * 自适应高度：`calc(100vh - 250px)`
     * 内部滚动：`overflow-y: auto`
     * 内边距：上下15px，左右0
   * 表格样式：
     * 表头背景色：`#e4e7ed`
     * 表头文字颜色：`#606266`
     * 单元格高度：32px
     * 文字行高：16px
     * 单元格内边距：上下1px
   * 宽度控制：
     * 表格容器：100%
     * 与搜索区域等宽
     * 左右对齐：与搜索栏输入框左边界对齐，与导出按钮右边界对齐
   * 表格交互：
     * 单元格文字溢出显示省略号
     * 固定操作列在右侧
     * 表格列宽度根据内容合理自适应设置
     * 表格内容不换行
     * 为空数据状态提供友好的提示 `empty-text`

6. **分页区域**
   * 位于表格下方，使用 `<el-pagination>` 实现
   * 推荐 `layout="total, sizes, prev, pager, next, jumper"` 布局
   * 提供合理的页面大小选项，如 `[10, 20, 50, 100]`
   * 实现页码变化和每页条数变化的处理函数
   * 文本右对齐，上下内边距10px

7. **弹窗组件**
   * 使用 `<el-dialog>` 实现弹窗容器
   * 内部使用 `<el-form>` 实现表单
   * 实现表单验证 `rules` 和 `ref`
   * 弹窗基础配置：
     * 标准宽度：800px（复杂表单）或500px（简单表单）
     * 垂直位置：距顶部 8vh
     * 标题栏：浅灰背景色，紧凑型高度（上下内边距6px）
     * 关闭按钮：垂直居中对齐
   * 表单布局原则：
     * 复杂表单采用两列布局设计，每列宽度为总宽度的50%（减去间距）
     * 列间距：30px，行间距：20px
     * 表单区域左右内边距：30px
   * 表单项规范：
     * 标签宽度：80-100px
     * 输入框宽度：自适应列宽
     * 特殊控件（日期、下拉框）：宽度100%
     * 单选框组：选项间距15px
     * 多行文本框：独占一行
   * 布局技巧：
     * 相关字段放同一行
     * 必填项优先靠前
     * 较长的输入项（如备注）放最后
     * 状态类选项（如启用/禁用）靠后放置
   * 交互优化：
     * 禁用点击遮罩层关闭
     * 底部按钮居中对齐
     * 确定取消按钮间距：20px

## 5. JavaScript 实现规范

### 5.1 数据结构

列表页面通常包含以下数据结构：

* **搜索表单数据**: 用于存储搜索条件
* **表格数据和加载状态**: 用于展示列表数据和控制加载动画
* **分页配置**: 管理分页相关信息
* **弹窗控制和表单数据**: 管理弹窗状态和表单内容
* **表单验证规则**: 定义表单输入验证规则

### 5.2 方法实现

页面主要功能方法应包括：

* **数据加载方法**: `fetchList`、`fetchDictionaries` 等
* **搜索与重置方法**: `handleSearch`、`resetSearch` 等
* **分页处理方法**: `handleSizeChange`、`handleCurrentChange` 等
* **CRUD操作方法**: `handleAdd`、`handleEdit`、`handleView`、`handleDelete` 等
* **表单提交方法**: `submitForm` 等
* **导出功能方法**: `handleExport`、`handleDownload` 等

这些方法应遵循以下规范：
* 命名清晰，语义明确
* 单一职责，每个方法只做一件事
* 适当处理异常情况
* 避免直接操作DOM
* 保持业务逻辑和UI逻辑分离

### 5.3 生命周期钩子

合理利用 Vue 生命周期钩子：

* **created**: 用于初始化数据，如加载字典数据和表格数据
* **mounted**: 用于DOM操作或事件监听
* **beforeDestroy**: 用于清理工作，如移除事件监听，取消未完成的请求等

## 6. CSS 样式规范

### 6.1 样式组织

* 使用 scoped 样式保证组件样式隔离
* 使用嵌套选择器提高可读性和维护性
* 为主要区域块设置明确的 class 名称
* 使用 flex 布局实现复杂对齐
* 使用媒体查询实现响应式调整

### 6.2 颜色与主题

* 优先使用 Element UI 的内置变量，确保视觉一致性
* 使用 CSS 变量定义全局颜色和主题
* 按功能分类变量（主色、文字色、边框色、背景色等）
* 在组件中引用这些变量，便于主题切换

## 7. 最佳实践与优化

### 7.1 列表性能优化

* **分页加载:** 务必实现服务端分页，避免一次加载全部数据
* **按需加载:** 表格列项多时考虑使用可配置的列显示控制
* **节流/防抖:** 对搜索操作应用防抖，避免频繁请求
* **虚拟滚动:** 数据量大时考虑实现虚拟滚动
* **懒加载:** 对于复杂组件如编辑器等，使用异步组件或懒加载

### 7.2 代码组织优化

* **代码拆分:** 对于复杂页面，将大组件拆分为小组件
* **混入复用:** 将通用逻辑抽取为 mixins
* **API 集中:** 将 API 调用放在单独的服务文件中
* **状态管理:** 复杂或共享状态使用 Vuex 管理

### 7.3 用户体验优化

* **加载状态:** 为所有异步操作提供明确的加载状态指示
* **错误处理:** 统一处理错误，提供友好的错误提示
* **表单验证:** 提供即时的表单验证反馈
* **操作确认:** 危险操作（如删除）添加二次确认
* **批量操作:** 支持表格的多选和批量操作
* **记住筛选:** 保存用户的筛选条件，便于下次使用

### 7.4 布局与性能优化

* **布局优化:**
  * 使用 flex 布局提高性能
  * 合理使用定位减少重排
  * 避免不必要的嵌套层级
* **样式优化:**
  * 使用 scoped 样式隔离
  * 合理使用 deep 选择器
  * 统一使用 scss 预处理器

## 8. 响应式设计与兼容性

虽然企业应用通常以桌面端为主，但仍需考虑不同屏幕尺寸的适配：

* **布局响应:** 使用 flex 布局和媒体查询适配不同屏幕
* **表格响应:** 在小屏上考虑横向滚动或调整表格展示方式
* **移动端适配:**
  * 页面内边距缩小为10px
  * 操作按钮区域改为独立行
  * 搜索表单占满宽度
* **输入控件响应:**
  * 输入框宽度自适应容器
  * 保持布局的间距比例
  * 文本溢出时显示省略号
* **兼容性考虑:** 确保在主流浏览器（IE11+、Chrome、Firefox、Edge、Safari）下正常工作

## 9. 版本控制与注释规范

* **Git提交:** 遵循约定式提交规范，如 `type(scope): message`
* **代码注释:** 
  * 为组件、复杂方法添加必要的注释
  * 使用 JSDoc 风格注释API方法
  * 关键业务逻辑需要添加注释说明

## 10. 文件结构与命名规范

* **文件命名:** 使用小写连字符，如 `user-list.vue`
* **组件命名:** 使用 PascalCase，如 `UserList.vue`
* **目录结构:** 
  * views: 存放页面级组件
  * components: 存放可复用组件
  * api: 存放API调用服务
  * utils: 存放工具函数
  * assets: 存放静态资源
  * store: 存放Vuex状态管理
* **CSS命名:** 使用 BEM 或类似命名规范，提高可读性
